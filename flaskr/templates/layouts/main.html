<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Online Course Manager</title>

    <!-- SEO Theme Tags by https://realfavicongenerator.net -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/static/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/static/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/static/favicon-16x16.png"
    />
    <link rel="manifest" href="/static/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/static/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <meta name="msapplication-TileColor" content="#2d89ef" />
    <meta name="theme-color" content="#ffffff" />

    <!-- FontAwesome CDN -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
      integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm"
      crossorigin="anonymous"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
  </head>
  <body>
    {% if alert %}
    <div
      class="alert alert-{{alert[0]}} alert-dismissible fade show"
      role="alert"
    >
      {{ alert[1] }}
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    {% endif %}
    <nav class="py-2 bg-light border-bottom">
      <div class="container d-flex flex-wrap">
        <ul class="nav me-auto">
          <li class="nav-item">
            <a href="/" class="nav-link link-dark px-2">Home</a>
          </li>
          <li class="nav-item">
            <a href="/courses" class="nav-link link-dark px-2">Courses</a>
          </li>
        </ul>
        {% if session.user %}
        <div class="d-flex align-items-center">
          <div class="dropdown text-end">
            <a
              href="#"
              class="d-block link-dark text-decoration-none dropdown-toggle"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              {{ session.user.email }}
            </a>
            <ul class="dropdown-menu dropdown-menu-end text-small">
              <li>
                <a class="dropdown-item" href="/profile/dashboard">Dashboard</a>
              </li>
              <li><hr class="dropdown-divider" /></li>
              <li><a class="dropdown-item" href="/auth/logout">Sign out</a></li>
            </ul>
          </div>
        </div>
        {% else %}
        <ul class="nav">
          <li class="nav-item">
            <a href="/auth/login" class="nav-link link-dark px-2">Login</a>
          </li>
          <li class="nav-item">
            <a href="/auth/register" class="nav-link link-dark px-2">Sign up</a>
          </li>
        </ul>
        {% endif %}
      </div>
    </nav>
    <header class="py-3 mb-4 border-bottom">
      <div class="container d-flex flex-wrap justify-content-center">
        <a
          href="/"
          class="d-flex align-items-center mb-3 mb-lg-0 me-lg-auto text-dark text-decoration-none"
        >
          <span class="fs-4">OnlineCourseManager</span>
        </a>
        <form
          class="col-12 col-lg-auto mb-3 mb-lg-0"
          role="search"
          action="/courses"
        >
          <input
            type="search"
            class="form-control"
            placeholder="Search courses..."
            aria-label="Search"
            name="search"
          />
        </form>
      </div>
    </header>
    <div class="container">{% block content %} {% endblock %}</div>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
    {% block scripts %}{% endblock %}
  </body>
</html>
